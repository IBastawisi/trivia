(this["webpackJsonptrivia-app"]=this["webpackJsonptrivia-app"]||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/delete.14d7f926.svg"},13:function(e,t,a){e.exports=a.p+"static/media/brain.7c401135.svg"},15:function(e,t,a){e.exports=a(28)},21:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),s=(a(20),a(21),a(5)),i=a(3),l=a(1),u=a(2),m=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)({question:"",answer:"",difficulty:1,category:1}),m=Object(u.a)(s,2),f=m[0],d=m[1],g=Object(n.createRef)();Object(n.useEffect)((function(){fetch("/categories").then((function(e){return e.json()})).then((function(e){o(e.categories)})).catch((function(e){alert("Unable to load categories. Please try your request again")}))}),[]);var b=function(e){d(Object(l.a)(Object(l.a)({},f),{},Object(i.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement("h2",null,"Add a New Trivia Question"),r.a.createElement("form",{className:"col-sm-6",onSubmit:function(e){e.preventDefault(),fetch("/questions",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then((function(e){return e.json()})).then((function(e){var t;null===(t=g.current)||void 0===t||t.reset()})).catch((function(e){alert("Unable to add question. Please try your request again")}))},ref:g},r.a.createElement("label",{className:"w-100"},"Question",r.a.createElement("input",{type:"text",name:"question",className:"form-control mt-2",onChange:b})),r.a.createElement("label",{className:"w-100"},"Answer",r.a.createElement("input",{type:"text",name:"answer",className:"form-control mt-2",onChange:b})),r.a.createElement("label",{className:"w-100"},"Difficulty",r.a.createElement("select",{name:"difficulty",className:"form-control mt-2",onChange:b},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"))),r.a.createElement("label",{className:"w-100"},"Category",r.a.createElement("select",{name:"category",className:"form-control mt-2",onChange:b},c.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.type)})))),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success"},"Submit")))},f=a(12),d=a.n(f),g=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],o=a[1],s=e.question,i=e.answer,l=e.category,m=e.difficulty;return r.a.createElement("div",{className:"card m-1"},r.a.createElement("div",{className:"card-body p-3"},r.a.createElement("div",{className:"card-title"},s),r.a.createElement("div",{className:"card-text d-flex align-items-center mb-3"},r.a.createElement("img",{src:"".concat(l.toLowerCase(),".svg"),alt:l,style:{width:28}}),r.a.createElement("span",{className:"px-3"},"Difficulty: ",m),r.a.createElement("button",{className:"btn btn-danger btn-sm rounded-circle p-1",style:{fontSize:0},onClick:function(){return e.questionAction("DELETE")}},r.a.createElement("img",{src:d.a,alt:"Delete",style:{width:16}}))),r.a.createElement("div",{className:"row m-0 align-items-center"},r.a.createElement("button",{className:"btn btn-primary mr-3 mb-2",onClick:function(){return o(!c)}},c?"Hide":"Show"," Answer"),c&&r.a.createElement("span",{className:"h5"},"Answer: ",i))))},b=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1];return r.a.createElement("form",{className:"form-inline flex-nowrap my-2",onSubmit:function(t){t.preventDefault(),e.submitSearch(c)}},r.a.createElement("input",{className:"form-control w-100 flex-grow-1",placeholder:"Search questions...",onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success flex-shrink-0"},"Submit"))},p=function(e){var t,a=Object(n.useState)({questions:[],page:1,totalQuestions:0,categories:[],currentCategory:null}),c=Object(u.a)(a,2),o=c[0],s=c[1],i=function(e){fetch("/questions?page=".concat(e||o.page)).then((function(e){return e.json()})).then((function(e){s(Object(l.a)(Object(l.a)({},o),{},{questions:e.questions,totalQuestions:e.total_questions,categories:e.categories,currentCategory:e.current_category,page:e.page}))})).catch((function(e){alert("Unable to load questions. Please try your request again")}))};Object(n.useEffect)(i,[]);var m=function(e){fetch("/categories/".concat(e,"/questions")).then((function(e){return e.json()})).then((function(e){s(Object(l.a)(Object(l.a)({},o),{},{questions:e.questions,totalQuestions:e.total_questions,currentCategory:e.current_category}))})).catch((function(e){alert("Unable to load questions. Please try your request again")}))};return r.a.createElement("div",{className:"row align-items-start"},r.a.createElement("div",{className:"col-sm-4 col-lg-3 sticky-sm-top"},r.a.createElement("h2",{onClick:function(){i()}},"Categories"),r.a.createElement("div",{className:"flex-row justify-content-start align-items-stretch flex-sm-column btn-group-lg btn-group-vertical w-100",style:{overflow:"auto"}},r.a.createElement("button",{className:"".concat(0==o.currentCategory?"btn btn-secondary":"btn"),onClick:function(){return m(0)}},"ALL"),o.categories.map((function(e){return r.a.createElement("button",{key:e.id,className:"".concat(o.currentCategory==e.id?"btn btn-secondary":"btn"),onClick:function(){m(e.id)}},r.a.createElement("img",{src:"".concat(e.type.toLowerCase(),".svg"),alt:e.type,style:{width:28}}),r.a.createElement("span",{className:"px-1"},e.type))}))),r.a.createElement(b,{submitSearch:function(e){return fetch("/questions/search",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchTerm:e})}).then((function(e){return e.json()})).then((function(e){s(Object(l.a)(Object(l.a)({},o),{},{questions:e.questions,totalQuestions:e.total_questions,currentCategory:e.current_category}))})).catch((function(e){alert("Unable to load questions. Please try your request again")}))}})),r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,(null===(t=o.categories.find((function(e){return e.id==o.currentCategory})))||void 0===t?void 0:t.type)||"All"," Questions"),o.questions.map((function(e,t){var a,n;return r.a.createElement(g,{key:e.id,question:e.question,answer:e.answer,category:(null===(a=o.categories.find((function(t){return t.id==e.category})))||void 0===a?void 0:a.type)||"",difficulty:e.difficulty,questionAction:(n=e.id,function(e){"DELETE"===e&&window.confirm("are you sure you want to delete the question?")&&fetch("/questions/".concat(n),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){i()})).catch((function(e){alert("Unable to load questions. Please try your request again")}))})})})),r.a.createElement("ul",{className:"pagination justify-content-center"},function(){for(var e=[],t=Math.ceil(o.totalQuestions/10),a=function(t){e.push(r.a.createElement("li",{key:t,className:"page-item ".concat(t===o.page?"active":"")},r.a.createElement("button",{className:"page-link",onClick:function(){var e;e=t,s(Object(l.a)(Object(l.a)({},o),{},{page:e})),i(e)}},t)))},n=1;n<=t;n++)a(n);return e}())))},y=a(13),v=a.n(y),h=function(e){return r.a.createElement("div",{className:"navbar navbar-expand navbar-dark bg-dark sticky-top"},r.a.createElement(s.a,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:v.a,width:"30",height:"30",alt:"logo",className:"d-inline-block align-top mr-1",loading:"lazy"}),"Udacitrivia"),r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(s.a,{getProps:function(e){return e.isCurrent?{className:"nav-item nav-link active"}:{className:"nav-item nav-link"}},to:"/add"},"Add"),r.a.createElement(s.a,{getProps:function(e){return e.isCurrent?{className:"nav-item nav-link active"}:{className:"nav-item nav-link"}},to:"/play"},"Play")))},E=a(14),w=function(e){var t=Object(n.useState)({playing:!1,gameover:!1,quizCategory:0,previousQuestions:[],showAnswer:!1,categories:[],numCorrect:0,currentQuestion:{},guess:""}),a=Object(u.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){fetch("/categories").then((function(e){return e.json()})).then((function(e){o((function(t){return Object(l.a)(Object(l.a)({},t),{},{categories:e.categories})}))})).catch((function(e){alert("Unable to load categories. Please try your request again")}))}),[]);var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o(Object(l.a)(Object(l.a)({},c),{},{quizCategory:e,playing:!0})),f(e)},m=function(e){o(Object(l.a)(Object(l.a)({},c),{},Object(i.a)({},e.target.name,e.target.value)))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.quizCategory,t=Object(E.a)(c.previousQuestions);c.currentQuestion.id&&t.push(c.currentQuestion.id),fetch("/quizzes",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_id:e.toString(),previous_questions:t})}).then((function(e){return e.json()})).then((function(a){o(Object(l.a)(Object(l.a)({},c),{},{quizCategory:e,showAnswer:!1,previousQuestions:t,currentQuestion:a.question,guess:"",playing:!0,gameover:!a.question}))})).catch((function(e){alert("Unable to load question. Please try your request again")}))},d=function(e){e.preventDefault();var t=b();o(Object(l.a)(Object(l.a)({},c),{},{numCorrect:t?c.numCorrect+1:c.numCorrect,showAnswer:!0}))},g=function(){o(Object(l.a)(Object(l.a)({},c),{},{playing:!1,gameover:!1,quizCategory:0,previousQuestions:[],showAnswer:!1,numCorrect:0,currentQuestion:{},guess:""}))},b=function(){var e=c.guess.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").toLowerCase(),t=c.currentQuestion.answer.toLowerCase().split(" ");return e==c.currentQuestion.answer.toLowerCase()||t.includes(e)};return c.playing?5===c.previousQuestions.length||c.gameover?r.a.createElement("div",{className:"w-75 mx-auto mt-5 text-center"},r.a.createElement("div",{className:"h3 mb-3"}," Your Final Score is ",c.numCorrect),r.a.createElement("button",{className:"btn btn-primary",onClick:g}," Play Again? ")):c.showAnswer?function(){var e=b();return r.a.createElement("div",{className:"w-75 mx-auto mt-5"},r.a.createElement("div",{className:"h5"},c.currentQuestion.question),r.a.createElement("div",{className:"alert alert-".concat(e?"success":"danger")},e?"You were correct!":"You were incorrect",r.a.createElement("br",null),"".concat(c.currentQuestion.answer," is the correct answer")),r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return f()}}," Next Question "))}():r.a.createElement("div",{className:"w-75 mx-auto mt-5"},r.a.createElement("div",{className:"h5"},c.currentQuestion.question),r.a.createElement("form",{className:"form-inline flex-nowrap my-2",onSubmit:d},r.a.createElement("input",{type:"text",name:"guess",className:"form-control w-100 flex-grow-1",onChange:m}),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success flex-shrink-0"},"Submit Answer"))):r.a.createElement("div",{className:"w-75 mx-auto mt-5"},r.a.createElement("div",{className:"h3 text-center"},"Choose Category"),r.a.createElement("div",{className:"btn-group-lg btn-group-vertical w-100",style:{overflow:"auto"}},r.a.createElement("button",{className:"btn",onClick:function(){return s(0)}},"ALL"),c.categories.map((function(e){return r.a.createElement("button",{key:e.id,className:"btn",onClick:function(){s(e.id)}},r.a.createElement("img",{src:"".concat(e.type.toLowerCase(),".svg"),alt:e.type,style:{width:28}}),r.a.createElement("span",{className:"px-2"},e.type))}))))};var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(s.b,{className:"container-fluid py-3"},r.a.createElement(p,{path:"/"}),r.a.createElement(m,{path:"/add"}),r.a.createElement(w,{path:"/play"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.40bab519.chunk.js.map